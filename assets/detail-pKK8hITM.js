import{h as e,p as m,q as c,s as u}from"./h-B9Kqazla.js";/* empty css                   */import{a as h,T as k}from"./taskDetailViewModel-CGl4_OEc.js";class p{constructor(t,s){this.repository=t,this.service=s}edit(t,s={}){const o=this.service.edit(t,s);return this.repository.edit(o)}}class f{constructor(t){this.repository=t}remove(t){return this.repository.remove(t)}removeGroup(t){return this.repository.clear(t)}}function v(a){return e("header",{className:"main-header"},e("a",{className:"fa-solid fa-arrow-left",href:a}),e("h1",null,"Tarefas"))}function N(a){return e("footer",{className:"main-footer"},e("hr",null),e("div",{className:"footer-content"},e("div",{className:"task-date"},a.content),e("div",{className:"task-actions"},e("span",{className:"fa-solid fa-trash"}))))}function y(a){return e("section",{className:"main-infos-task",id:"main-infos-task"},e("div",{className:"form-input-box"},e("span",{className:"fa-regular fa-sun"}),e("button",{className:"remember-me-button form-input"},"Lembrar-me")),e("div",{className:"form-input-box"},e("label",{htmlFor:"date",className:"fa-regular fa-calendar"}),e("input",{type:"date",className:"form-input",name:"date",id:"date",value:a.task.date})),e("div",{className:"form-input-box"},e("label",{htmlFor:"archive",className:"fa-solid fa-paperclip"}),e("label",{htmlFor:"archive"}," Adicionar um arquivo"),e("input",{type:"file",className:"form-input",name:"archive",id:"archive"})),e("textarea",{name:"anotations",id:"anotations",placeholder:"Adicionar anotações",value:a.task.description}))}function w(a,t={}){return e("main",{className:"main-content"},e(t.Header,{href:"./index.html"}),e("div",{className:"main-task tasks"},e(t.TaskCard,{task:a,forEdition:!0})),e(t.Form,{task:a}),e(t.Footer,{content:a.create_date}))}class V{constructor(t,s,o,i){this.taskDetailVM=t,this.taskEditVM=s,this.taskRemoveVM=o,this.taskDetailComponent=i}render(t){const s=this.taskDetailVM.get("task_id");t.appendChild(this.taskDetailComponent);const o=document.getElementById("name"),i=document.getElementById("anotations"),d=document.getElementById("date"),l=document.querySelector(".task-checkbox");window.addEventListener("input",()=>{this.taskEditVM.edit(s,{name:o.value,description:i.value,date:d.value})}),document.querySelector(".fa-trash").addEventListener("click",()=>{this.taskRemoveVM.remove(s),window.location.href="../../../index.html"}),l.addEventListener("click",()=>{this.taskDetailVM.completedTask(s),location.reload()})}}const r=m(c.getQueryParams("key")),n=new h(r,c),M=new p(r,u),b=new f(r),E=new V(n,M,b,w(n.get("task_id"),{TaskCard:k,Header:v,Footer:N,Form:y})),D=document.querySelector(".container");E.render(D);
