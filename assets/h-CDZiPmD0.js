(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(t){if(t.ep)return;t.ep=!0;const i=r(t);fetch(t.href,i)}})();class n{constructor(e){this.key=e}_loadAll(){return JSON.parse(localStorage.getItem(this.key))||[]}_saveAll(e){localStorage.setItem(this.key,JSON.stringify(e))}save(e){const r=this._loadAll();return r.push(e),this._saveAll(r),e}load(){return this._loadAll()}find(e){return this._loadAll().find(r=>r.id==e)}edit(e){const r=this._loadAll(),s=r.findIndex(t=>t.id===e.id);return s!==-1&&(r[s]=e,this._saveAll(r)),e}remove(e){const r=this._loadAll().filter(s=>s.id!==e.id);this._saveAll(r)}clear(e){localStorage.removeItem(this.key)}}class l{constructor(e){this.env=e}get(e){return this.env[e]}}let d={mainGroups:["Tarefas","Importante","Meu Dia"],routers:{home:"index.html",list:"list.html",detail:"detail.html"}};class c{constructor(e=[],r=[],s=[]){this.validatorsEdit=e,this.validatorsRemove=r,this.validatorsSave=s}validate(e,r){if(!Array.isArray(r))throw new Error("Estratégia de validação inválida.");r.forEach(s=>s.validate(e))}save(e){return this.validate(e,this.validatorsSave),e}remove(e){return this.validate(e,this.validatorsRemove),e}edit(e,r={}){return this.validate(e,this.validatorsEdit),{...e,...r}}}class u extends c{constructor(e=[],r=[],s=[]){super(e,r,s)}edit(e,r={}){return this.validate(e,this.validatorsEdit),{...e,...r}}}class f{constructor(e,r){this.service=e,this.repository=r}load(){return this.repository.load()}save(e){return this.service.save(e),this.repository.save(e)}remove(e){const r=this.service.remove(e);return this.repository.remove(r)}edit(e){return this.repository.edit(e)}find(e){return this.repository.find(e)}clear(e){return this.repository.clear(e)}}class h extends f{constructor(e,r){super(e,r)}completed(e){return e.completed?e.completed=!1:e.completed=!0,this.repository.edit(e)}}class v{getQueryParams(e){return new URLSearchParams(window.location.search).get(e)}}const m=new u([],[],[]),y=new v,p=new l(d);function g(a){return new h(m,new n(a))}function A(a,e,...r){if(typeof a=="function")return a({...e||{},children:r});const s=document.createElement(a);for(const t in e||{})if(t.startsWith("on")&&typeof e[t]=="function")s.addEventListener(t.slice(2).toLowerCase(),e[t]);else if(t==="className")s.setAttribute("class",e[t]);else if(t==="style"&&typeof e[t]=="object")Object.assign(s.style,e[t]);else if(t==="dataset"&&typeof e[t]=="object")for(const i in e[t])s.dataset[i]=e[t][i];else s[t]=e[t];return r.flat().forEach(t=>{typeof t=="string"||typeof t=="number"?s.appendChild(document.createTextNode(t)):t instanceof Node&&s.appendChild(t)}),s}export{p as c,A as h,g as p,y as q,m as s};
