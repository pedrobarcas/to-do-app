import{h as i,p as l}from"./h-B9Kqazla.js";import{D as d,L as u,G as m}from"./groupForm-B5APNPYO.js";/* empty css                   */class p{constructor(e,t){this.factory=e,this.repository=t}create(e,t=""){let o=e,s=0;for(;this.repository.find(o);)s++,o=`${e} (${s})`;const c=this.factory.create(o,t);return this.repository.save(c)}}class h{constructor(e,t,o,s){this.id=e,this.name=t,this.create_date=o,this.color=s}}class y{static create(e,t=void 0){return new h(e.trim(),e.trim(),d.DateFormatBrazilian(),t)}}function f(r){return i("a",{className:"content-box",href:`listTask.html?key=${r.group.id}`},i("span",{className:"fa-solid fa-list-ul","aria-label":"Imagem ilustrativa de uma casa",style:`color: ${r.group.color}`}),i("p",null,r.group.name))}class g{constructor(e){this.listViewModel=e}renderGroups(e){e.innerHTML="",this.listViewModel.load().forEach(t=>{this.createTemplateGroup(e,t)})}createTemplateGroup(e,t){const o=i(f,{group:t});e.appendChild(o)}}class w{constructor(e,t,o,s){this.Ui=e,this.listVM=t,this.createVM=o,this.groupForm=s,this.color}bindEvents(e=document){const t=e.querySelector(".todo__form--container"),o=e.getElementById("group");e.querySelector(".todo__footer--content").addEventListener("click",()=>{t.style.display="flex"}),e.getElementById("cancel").addEventListener("click",()=>{t.style.display="none"}),e.getElementById("create").addEventListener("click",()=>{this.createVM.create(o.value.trim(),this.color),t.style.display="none",this.Ui.renderGroups(document.querySelector(".home__group"))}),document.querySelectorAll(".todo__form--color-content").forEach(s=>{s.addEventListener("click",c=>{this.color=c.target.dataset.color})})}render(e=document){const t=document.querySelector(".main-content"),o=i(this.groupForm,{method:"post"});t.prepend(o),this.bindEvents(e),this.Ui.renderGroups(document.querySelector(".home__group"))}}const _=y,n=l("group"),a=new u(n),E=new p(_,n),G=new g(a),v=new w(G,a,E,m);v.render(document);
