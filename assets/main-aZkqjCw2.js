import{O as u,h as i,p as m}from"./h-3ZQFZrTa.js";import{D as h,L as p,G as y}from"./groupForm-ZkZMe4Ki.js";/* empty css                   */class f extends u{constructor(e,t){super(),this.factory=e,this.repository=t}create(e,t="",o="fa-solid fa-list-ul"){let s=e,c=0;for(;this.repository.find(s);)c++,s=`${e} (${c})`;const n=this.factory.create(s,t,o),a=this.repository.save(n);return this.notify(a),a}}class g{constructor(e,t,o,s,c){this.id=e,this.name=t,this.create_date=o,this.color=s,this.icon=c}}class w{static create(e,t=void 0,o){return new g(e.trim(),e.trim(),h.DateFormatBrazilian(),t,o)}}function _(r){let e="fa-solid fa-list-ul";return r.group.icon&&!r.group.icon.includes("fa-regular")&&(e=r.group.icon),i("a",{className:"content-box",href:`listTask.html?key=${r.group.id}`},i("span",{className:e,"aria-label":"Imagem ilustrativa de uma casa",style:`color: ${r.group.color}`}),i("p",null,r.group.name))}class v{constructor(e){this.listViewModel=e}renderGroups(e){e.innerHTML="",this.listViewModel.load().forEach(t=>{this.createTemplateGroup(e,t)})}createTemplateGroup(e,t){const o=i(_,{group:t});e.appendChild(o)}}class E{constructor(e,t,o,s){this.Ui=e,this.listVM=t,this.createVM=o,this.groupForm=s,this.color}bindEvents(e=document){const t=e.querySelector(".todo__form--container"),o=e.getElementById("group");e.querySelector(".todo__footer--content").addEventListener("click",()=>{t.style.display="flex"}),e.getElementById("cancel").addEventListener("click",()=>{t.style.display="none"}),this.createVM.subscribe(()=>{t.style.display="none",this.Ui.renderGroups(document.querySelector(".home__group"))}),e.getElementById("create").addEventListener("click",()=>{this.createVM.create(o.value.trim(),this.color,Array.from(document.querySelector(".icon").classList).slice(0,2).join(" "))}),document.querySelectorAll(".todo__form--color-content").forEach(s=>{s.addEventListener("click",c=>{this.color=c.target.dataset.color,document.querySelectorAll(".todo__form--color-content").forEach(n=>{n.classList.remove("is-selected")}),c.target.classList.add("is-selected")})})}render(e=document){const t=document.querySelector(".main-content"),o=i(this.groupForm,{method:"post"});t.prepend(o),this.bindEvents(e),this.Ui.renderGroups(document.querySelector(".home__group"))}}const G=w,l=m("group"),d=new p(l),L=new f(G,l),M=new v(d),V=new E(M,d,L,y);V.render(document);
