import{O as c,h as e,p as u,q as l,s as h,c as k}from"./h-CglQKmZx.js";/* empty css                   */import{a as f,T as p}from"./taskDetailViewModel-DR09SH-F.js";class v extends c{constructor(t,s){super(),this.repository=t,this.service=s}edit(t,s={}){const i=this.service.edit(t,s),o=this.repository.edit(i);return this.notify(),o}}class y extends c{constructor(t){super(),this.repository=t}remove(t){const s=this.repository.remove(t);return this.notify(),s}removeGroup(t){const s=this.repository.clear(t);return this.notify(),s}}function b({title:a,href:t="index.html"}){return e("header",{className:"main-header"},e("a",{className:"fa-solid fa-arrow-left",href:t}),e("h1",null,a))}function N(a){return e("footer",{className:"main-footer"},e("hr",null),e("div",{className:"footer-content"},e("time",{className:"task-date",title:a.content},a.content),e("div",{className:"task-actions"},e("span",{className:"fa-solid fa-trash"}))))}function V(a){return e("section",{className:"main-infos-task",id:"main-infos-task"},e("div",{className:"form-input-box"},e("span",{className:"fa-regular fa-sun"}),e("button",{className:"remember-me-button form-input"},"Lembrar-me")),e("hr",null),e("div",{className:"form-input-box"},e("label",{htmlFor:"date",className:"fa-regular fa-calendar"}),e("input",{type:"date",className:"form-input",name:"date",title:"Adicionar uma data",id:"date",value:a.task.date})),e("hr",null),e("div",{className:"form-input-box"},e("label",{htmlFor:"archive",className:"fa-solid fa-paperclip"}),e("label",{htmlFor:"archive"}," Adicionar um arquivo"),e("input",{type:"file",className:"form-input",name:"archive",id:"archive"})),e("textarea",{name:"anotations",id:"anotations",placeholder:"Adicionar anotações",value:a.task.description}))}function w(a,t={}){return e("main",{className:"main-content"},e(t.Header,{title:"Tarefas"}),e("div",{className:"main-task tasks"},e(t.TaskCard,{task:a,forEdition:!0})),e(t.Form,{task:a}),e(t.Footer,{content:a.create_date}))}class M{constructor(t,s,i){this.taskDetailVM=t.detail,this.taskEditVM=t.edit,this.taskRemoveVM=t.remove,this.taskDetailComponent=s,this.config=i}render(t){const s=this.taskDetailVM.get("task_id");t.appendChild(this.taskDetailComponent);const i=document.getElementById("name"),o=document.getElementById("anotations"),d=document.getElementById("date"),m=document.querySelector(".task-checkbox");window.addEventListener("input",()=>{this.taskEditVM.edit(s,{name:i.value,description:o.value,date:d.value})}),this.taskRemoveVM.subscribe(()=>{history.back()}),document.querySelector(".fa-trash").addEventListener("click",()=>{this.taskRemoveVM.remove(s)}),this.taskDetailVM.subscribe(()=>{location.reload()}),m.addEventListener("click",()=>{this.taskDetailVM.completedTask(s)})}}const r=u(l.getQueryParams("key")),n=new f(r,l),g=new v(r,h),D=new y(r),E=new M({detail:n,edit:g,remove:D},w(n.get("task_id"),{TaskCard:p,Header:b,Footer:N,Form:V}),k),T=document.querySelector(".container");E.render(T);
