import{O as u,h as c,p as m}from"./h-CglQKmZx.js";import{D as h,L as p,G as f}from"./groupForm-DK8rVgn4.js";/* empty css                   */class y extends u{constructor(e,t){super(),this.factory=e,this.repository=t}create(e,t="",o="fa-solid fa-list-ul"){let s=e;e===""&&(s="Lista sem título",e="Lista sem título");let i=1;for(;this.repository.find(s);)i++,s=`${e} (${i})`;const n=this.factory.create(s,t,o),a=this.repository.save(n);return this.notify(a),a}}class g{constructor(e,t,o,s,i){this.id=e,this.name=t,this.create_date=o,this.color=s,this.icon=i}}class w{static create(e,t=void 0,o){return new g(e.trim(),e.trim(),h.DateFormatBrazilian(),t,o)}}function _(r){let e="fa-solid fa-list-ul";return r.group.icon&&!r.group.icon.includes("fa-regular")&&(e=r.group.icon),c("a",{className:"content-box",href:`list.html?key=${r.group.id}`},c("span",{className:e,"aria-label":"Imagem ilustrativa de uma casa",style:`color: ${r.group.color}`}),c("p",null,r.group.name))}class L{constructor(e){this.listViewModel=e}renderGroups(e){e.innerHTML="",this.listViewModel.load().forEach(t=>{this.createTemplateGroup(e,t)})}createTemplateGroup(e,t){const o=c(_,{group:t});e.appendChild(o)}}class v{constructor(e,t,o,s){this.Ui=e,this.listVM=t,this.createVM=o,this.groupForm=s,this.color}bindEvents(e=document){const t=e.querySelector(".todo__form--container"),o=e.getElementById("group");e.querySelector(".todo__footer--content").addEventListener("click",()=>{t.style.display="flex"}),e.getElementById("cancel").addEventListener("click",()=>{t.style.display="none"}),this.createVM.subscribe(()=>{t.style.display="none",this.Ui.renderGroups(document.querySelector(".home__group"))}),e.getElementById("create").addEventListener("click",()=>{this.createVM.create(o.value.trim(),this.color,Array.from(document.querySelector(".icon").classList).slice(0,2).join(" "))}),document.querySelectorAll(".todo__form--color-content").forEach(s=>{s.addEventListener("click",i=>{this.color=i.target.dataset.color,document.querySelectorAll(".todo__form--color-content").forEach(n=>{n.classList.remove("is-selected")}),i.target.classList.add("is-selected")})})}render(e=document){const t=document.querySelector(".main-content"),o=c(this.groupForm,{method:"post"});t.prepend(o),this.bindEvents(e),this.Ui.renderGroups(document.querySelector(".home__group"))}}const E=w,l=m("group"),d=new p(l),G=new y(E,l),M=new L(d),V=new v(M,d,G,f);V.render(document);
